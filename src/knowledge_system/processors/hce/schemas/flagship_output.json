{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Flagship Evaluation Output",
  "description": "Schema for flagship LLM evaluation and ranking of extracted content",
  "type": "object",
  "properties": {
    "evaluated_claims": {
      "type": "array",
      "description": "Claims after flagship evaluation and ranking",
      "items": {
        "type": "object",
        "properties": {
          "original_claim_text": {
            "type": "string",
            "description": "Original claim text from miner"
          },
          "decision": {
            "type": "string",
            "enum": ["accept", "reject", "merge", "split"],
            "description": "What to do with this claim"
          },
          "rejection_reason": {
            "type": "string",
            "description": "Why claim was rejected (if decision=reject)"
          },
          "refined_claim_text": {
            "type": "string",
            "description": "Improved/refined version of claim (if different from original)"
          },
          "merge_with": {
            "type": "array",
            "items": {"type": "string"},
            "description": "Other claims to merge with (if decision=merge)"
          },
          "split_into": {
            "type": "array",
            "items": {"type": "string"},
            "description": "Multiple claims to split into (if decision=split)"
          },
          "importance": {
            "type": "integer",
            "minimum": 1,
            "maximum": 10,
            "description": "How important/significant this claim is (1-10 scale)"
          },
          "novelty": {
            "type": "integer",
            "minimum": 1,
            "maximum": 10,
            "description": "How novel or surprising this claim is (1-10 scale)"
          },
          "confidence_final": {
            "type": "integer",
            "minimum": 1,
            "maximum": 10,
            "description": "Overall confidence in this claim (1-10 scale)"
          },
          "reasoning": {
            "type": "string",
            "description": "Explanation of the evaluation and scoring"
          },
          "rank": {
            "type": "integer",
            "minimum": 1,
            "description": "Final importance ranking (1 = most important)"
          }
        },
        "required": ["original_claim_text", "decision", "importance", "novelty", "confidence_final", "reasoning", "rank"]
      }
    },
    "summary_assessment": {
      "type": "object",
      "description": "Overall assessment of the content and extracted claims",
      "properties": {
        "total_claims_processed": {
          "type": "integer",
          "description": "Number of claims evaluated"
        },
        "claims_accepted": {
          "type": "integer",
          "description": "Number of claims accepted"
        },
        "claims_rejected": {
          "type": "integer",
          "description": "Number of claims rejected"
        },
        "key_themes": {
          "type": "array",
          "items": {"type": "string"},
          "description": "Main themes or topics identified"
        },
        "overall_quality": {
          "type": "string",
          "enum": ["high", "medium", "low"],
          "description": "Overall quality of the extracted claims"
        },
        "recommendations": {
          "type": "string",
          "description": "Suggestions for improving claim extraction or content analysis"
        }
      },
      "required": ["total_claims_processed", "claims_accepted", "claims_rejected", "key_themes", "overall_quality"]
    }
  },
  "required": ["evaluated_claims", "summary_assessment"]
}
