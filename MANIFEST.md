# MANIFEST.MD

Complete inventory of all files in the Knowledge Chipper codebase with descriptions of actual functionality.

**Last Updated:** November 10, 2025

---

## ROOT DIRECTORY

### Configuration Files

- `.bandit` - Security linter configuration for identifying common security issues in Python code
- `.cache_state.json` - Cache state tracking for application runtime
- `.coverage` - Code coverage data generated by pytest-cov during test runs
- `.cursor_shell_config` - Cursor IDE shell environment configuration
- `.cursorindexingignore` - Patterns for files/directories to exclude from Cursor's code indexing
- `.cursorules` - Custom rules for Cursor AI assistant behavior in this workspace
- `.gitattributes` - Git line ending and merge strategy configuration
- `.gitignore` - Specifies intentionally untracked files for Git to ignore
- `.pre-commit-config.yaml` - Pre-commit hook configuration for automated code quality checks (black, flake8, mypy, bandit)
- `.python-version` - Python version specification (3.11.x) for pyenv version management
- `.secrets.baseline` - Baseline file for detect-secrets tool to track known false positives
- `pyproject.toml` - Python project metadata, dependencies, and build configuration (single source of truth for version numbers)
- `pyrightconfig.json` - Pyright static type checker configuration with strict type checking rules
- `pytest.ini` - Pytest configuration for main test suite (markers, coverage, warnings)
- `pytest.ini.gui_testing` - Separate pytest configuration for GUI tests with xvfb support
- `requirements.txt` - Production Python dependencies with pinned versions
- `requirements-dev.txt` - Development dependencies (testing, linting, type checking tools)

### Build and Deployment

- `Makefile` - Build automation for common development tasks (test, lint, format, install)
- `Makefile.hce` - Build automation specific to HCE (Hybrid Claim Extraction) system
- `SkipThePodcast.pkgproj` - Packages.app project file for building macOS .dmg installer
- `launch_gui.command` - Shell script to launch GUI application on macOS with proper environment setup

### Documentation - Project Status

- `ACTIVE_TODOS.md` - Current active tasks and work in progress
- `ALL_FIXES_COMPLETE.md` - Comprehensive list of all bug fixes that have been completed
- `ALL_IMPLEMENTATION_COMPLETE.md` - List of all major features that have been fully implemented
- `ANTI_BOT_CRITICAL_FIXES.md` - Documentation of anti-bot detection fixes for YouTube downloads
- `CHANGELOG.md` - Chronological record of all notable changes to the project
- `CODE_DUPLICATION_ELIMINATION.md` - Refactoring to eliminate 70+ lines of duplicated code in summarization tab by extracting helper methods for settings building and worker creation
- `CONTRIBUTING.md` - Guidelines for contributing to the project (code style, PR process, testing)
- `DEPLOYMENT_READY.txt` - Deployment readiness checklist and status
- `FINAL_INTEGRATION_STATUS.md` - Status of final system integration across all components
- `FLAGSHIP_EVALUATOR_MODEL_DEFAULT_FIX.md` - Fix for Flagship Evaluator Model dropdown appearing empty on launch due to mismatch between stored model names and displayed names with "(Installed)" suffix
- `FOREIGN_KEY_CONSTRAINT_FIX.md` - Fix for foreign key constraint errors when creating stage statuses before MediaSource records exist
- `MENTAL_MODELS_SCHEMA_FIX.md` - Complete v1→v2 schema migration: replaced v1 with v2 structure to eliminate all transformations (nested evidence_spans, definition field, full alignment)
- `SCHEMA_STRATEGY_CURRENT_STATE.md` - Comprehensive analysis of schema evolution: why grammar-enforced structured outputs were abandoned for JSON mode + post-validation (5-6x faster)
- `SCHEMA_VALIDATION_FIX.md` - Fix for schema validation errors: corrected context_type enum mismatch (sentence/paragraph → exact/extended/segment) and removed domain enum constraint to allow free-form domain descriptions
- `SCHEMA_REPAIR_DOMAIN_FIX.md` - Fix for missing domain field in claims: added repair logic to automatically set domain="general" when LLMs omit the required field, preventing validation failures and fallback to non-structured JSON generation
- `CLAIM_DOMAIN_IMPLEMENTATION.md` - Implementation of domain field for claims: added database field, updated all miner prompts with broad category guidance, and ensured open-ended classification for searchability
- `SUMMARIZE_TAB_REFRESH_FIX.md` - Fix for Summarize tab database list not automatically refreshing when new transcripts are added: added showEvent() handler to refresh on tab visibility and enhanced diagnostic logging for orphaned transcripts
- `TRANSCRIBED_VIDEOS_NOT_IN_SUMMARIZE_TAB_FIX.md` - Fix for transcribed YouTube videos not appearing in Summarize tab: AudioProcessor was generating new source_ids instead of reusing existing ones from YouTube downloads, creating orphaned Transcript records not linked to MediaSource records
- `GUI_SETTINGS_PERSISTENCE_AUDIT.md` - Audit results of GUI settings persistence implementation
- `IMPLEMENTATION_SUMMARY.md` - High-level summary of major implementation milestones
- `OUTPUT_DIRECTORY_BUG_FIX.md` - Fix for bug where Summarize tab displayed user-selected output directory but saved files to default location
- `LICENSE` - MIT License for the project
- `README.md` - Main project documentation with installation, usage, and feature overview
- `TESTING_CHECKLIST.md` - Comprehensive checklist for testing all system features
- `TIMER_REDUNDANCY_AUDIT.md` - Detailed audit of suspicious timer patterns, confirming both are legitimate (sequential initialization and immediate+periodic refresh patterns)

### Documentation - Batch Processing

- `BATCH_7000_M2_ULTRA_128GB_OPTIMIZED.md` - Optimization strategy for processing 7000 videos on M2 Ultra hardware
- `BATCH_7000_VIDEOS_QUICK_REFERENCE.md` - Quick reference guide for large batch processing operations
- `BATCH_PROCESSING_7000_VIDEOS_ANALYSIS.md` - Analysis of requirements and constraints for 7000 video batch
- `BATCH_PROCESSING_CLEANUP_SUMMARY.md` - Summary of batch processing cleanup and optimization work
- `BUTTON_STUCK_FIX.md` - Fix for Start Summarization button getting stuck at "Checking model availability" when using local models with installed models
- `MASSIVE_BATCH_OPTIMIZATION_CORRECTED.md` - Corrected optimization strategy for massive batch operations
- `MASSIVE_BATCH_OPTIMIZATION_STRATEGY.md` - Original strategy document for massive batch processing
- `READY_FOR_7000_VIDEOS.md` - System readiness confirmation for 7000 video batch processing

### Documentation - Multi-Account System

- `M2_ULTRA_6_ACCOUNT_OPTIMIZATION.md` - Optimization guide for 6-account parallel download setup
- `MULTI_ACCOUNT_CONCURRENCY_BUG.md` - Critical bug report: multi-account system using sequential rotation instead of concurrent downloads (3-5x slower than intended)
- `MULTI_ACCOUNT_FAQ.md` - Frequently asked questions about multi-account YouTube download functionality
- `MULTI_ACCOUNT_GUI_IMPLEMENTATION.md` - Implementation details for multi-account GUI features
- `MULTI_ACCOUNT_IMPLEMENTATION_STATUS.md` - Status tracking for multi-account feature implementation
- `MULTI_ACCOUNT_INTEGRATION_COMPLETE.md` - Completion documentation for multi-account integration
- `MULTI_ACCOUNT_VS_SINGLE_ACCOUNT_CODE_PATHS.md` - Comparison of code paths for single vs multi-account modes
- `SESSION_BASED_ANTI_BOT_COMPLETE.md` - Completion documentation for session-based anti-bot system
- `SESSION_BASED_ANTI_BOT_IMPLEMENTATION.md` - Implementation details for session-based anti-bot detection avoidance

### Documentation - Architecture and Systems

- `docs/FILE_ORGANIZATION.md` - Comprehensive guide to output file organization: explains directory structure (transcripts/, summaries/, moc/, exports/), file naming conventions, relationship between transcript and summary files, database as source of truth, and how to find/regenerate files. Addresses common confusion about where files are saved and why they don't overwrite each other.
- `VESTIGIAL_CODE_ANALYSIS.md` - Comprehensive analysis of unused/vestigial code from pre-unified-pipeline architecture, including old extraction modules (people.py, glossary.py, concepts.py, skim.py), unused prompt files (judge_high/low variants), and unimplemented features (relations, contradictions). Documents architecture evolution and provides removal recommendations.
- `VESTIGIAL_CODE_REMOVAL_COMPLETE.md` - Completion documentation for vestigial code cleanup: moved 4 old extraction modules and 12 unused prompt files to _deprecated/, updated __init__.py, verified all imports still work. Includes before/after architecture comparison, verification tests, and rollback plan.
- `COMPLETE_SETTINGS_HIERARCHY_FIX.md` - Documentation of settings hierarchy refactoring and fixes
- `DEDUPLICATION_FIX.md` - Fix for URL deduplication logic that was incorrectly skipping incomplete downloads
- `DEFAULT_MODEL_CHANGED_TO_MEDIUM.md` - Documentation of default Whisper model change from base to medium
- `DEPENDABOT_SETUP_COMPLETE.md` - Dependabot configuration for automated dependency updates
- `DEVICE_AUTO_PATTERN_ANALYSIS.md` - Analysis of automatic device selection patterns for Whisper
- `DEVICE_BUG_CLASS_SUMMARY.md` - Classification of device-related bugs and their fixes
- `DEVICE_SETTING_BUG_FIX.md` - Fix for device setting persistence and selection bugs
- `DOWNLOAD_FIXES_SUMMARY.md` - Summary of all download-related bug fixes
- `HALLUCINATION_AND_DEFAULT_MODEL_COMPLETE.md` - Completion doc for hallucination prevention and model changes
- `HALLUCINATION_PREVENTION_COMPLETE.md` - Documentation of Whisper hallucination prevention implementation
- `HCE_FIXES_SUMMARY.md` - Summary of all HCE (Hybrid Claim Extraction) system fixes
- `HOW_TO_TEST.md` - Comprehensive testing guide for all system components
- `INTRODUCTION_TAB_CONTROL_IMPLEMENTATION.md` - Implementation of user-controllable Introduction tab visibility
- `MULTI_SOURCE_DEDUPLICATION_COMPLETE.md` - Completion doc for multi-source deduplication system
- `PHANTOM_OPTIONS_AUDIT.md` - Audit of phantom/unused configuration options
- `QUEUE_TAB_FIXES_COMPLETE.md` - Documentation of Queue tab bug fixes: JSON error in view details, failed items not clearing, and missing hyperlinks to completed files
- `RECOVERY_COMPLETE.md` - Documentation of system recovery from critical issues
- `REDUNDANCY_PATTERNS_ANALYSIS.md` - Analysis of timer-based redundant initialization patterns found in GUI code, with search strategies and audit checklist for finding similar issues
- `SCHEMA_CONFLICTS.md` - Documentation of database schema conflicts and resolutions
- `SETTINGS_HIERARCHY_FIX_PROGRESS.md` - Progress tracking for settings hierarchy refactoring
- `SETTINGS_SINGLE_SOURCE_OF_TRUTH_FIX.md` - Fix for settings having multiple conflicting sources of truth
- `SIDECAR_FILES_ELIMINATED.md` - Documentation of sidecar file elimination in favor of database storage
- `SOURCE_ID_GENERATION_GUIDE.md` - Guide for generating and managing source IDs across the system
- `SPEAKER_ATTRIBUTION_UPGRADE_COMPLETE.md` - Completion doc for speaker attribution system upgrade
- `TIMEOUT_FIXES_COMPLETE.md` - Fix for hardcoded LLM timeout values that were overriding configuration settings
- `ROBUST_LLM_FALLBACK_SYSTEM.md` - November 10, 2025 enhancement: 5-tier fallback system that uses ANY available Ollama model rather than failing. Priority: (1) Preferred models, (2) Any Qwen, (3) Any Llama, (4) Any instruct model, (5) Any model. Ensures speaker attribution never fails when models are installed, with transparent logging of which tier is used
- `SPEAKER_ATTRIBUTION_DEBUG_GUIDE.md` - Comprehensive debug guide for speaker attribution issues: explains why SPEAKER_01 labels appear instead of real names, documents model name mismatch problem, provides diagnostic steps and solutions for ensuring MVP LLM (Gwen/Qwen) is properly detected and used with CSV mappings
- `SPEAKER_ATTRIBUTION_MODEL_NAME_FIX.md` - November 10, 2025 fix for model name mismatch: installation scripts pulled "qwen2.5:7b" but code expected "qwen2.5:7b-instruct". Documents Ollama's behavior of stripping -instruct suffix when storing models, updated MVP_MODEL_ALTERNATIVES to match actual Ollama names, removed fuzzy matching logic
- `SUMMARY_FORMAT_CODE_PATH_CONSOLIDATION.md` - November 10, 2025 elimination of duplicate summary generation code path. Removed generate_summary_markdown_from_pipeline() which was creating inconsistent formats with bugs. Unified pipeline now uses standard generate_summary_markdown() → _generate_hce_markdown() for ONE consistent format. Includes before/after comparison and explanation of why duplicate code paths are problematic
- `SCHEMA_MIGRATION_COMPLETION.md` - November 10, 2025 completion of incomplete episode-centric to claim-centric schema migration. Fixed 10 remaining references to old schema (video_id → source_id, get_video() → get_source()) across system2_orchestrator.py, file_generation.py, and speaker_processor.py. Documents root cause analysis, verification process, and lessons learned about incremental migrations
- `TRANSCRIPTION_TO_SUMMARIZATION_WORKFLOW.md` - November 10, 2025 enhancement for seamless transcription-to-summarization workflow. When clicking "Summarize Transcript" after transcription, the system now automatically: (1) switches to Database mode, (2) checks boxes for all transcribed sources, (3) immediately starts summarization. Leverages database-first architecture where rich segments (timestamps, speakers, metadata) are used instead of parsing markdown files. Documents implementation, benefits, and user experience improvements
- `TRANSCRIPT_DISPLAY_FIX_NOV_2025.md` - Fix for duplicate titles in Obsidian (removed redundant H1 heading) and improved filename readability (preserved spaces instead of underscores)
- `TRANSCRIPT_FORMATTING_FIXES_NOV_2025.md` - November 10, 2025 fixes: YouTube Description header (conditional on source type), removed "_transcript" suffix from filenames, optimized paragraph breaking (500 char max, 3s pause threshold for better readability), documented speaker attribution LLM requirement
- `TRANSCRIPT_FORMATTING_IMPROVEMENTS.md` - Complete redesign of human-readable transcript formatting with intelligent paragraph grouping based on speaker changes, pauses, sentence boundaries, and character limits. Includes before/after examples and technical details of the paragraph grouping algorithm.
- `VOICE_FINGERPRINTING_FIX_NOV_2025.md` - Fix for voice fingerprinting not merging speakers in single-speaker monologues. Root cause: system was receiving wrong audio file path (original input file instead of converted 16kHz mono WAV used for diarization), preventing proper audio segment extraction and voice similarity analysis. Fixed by passing output_path instead of path to prepare_speaker_data().
- `VOICE_FINGERPRINTING_DIAGNOSIS_NOV_2025.md` - Comprehensive diagnostic enhancements for voice fingerprinting system. Added detailed logging to identify why speakers aren't merging: feature extraction success/failure tracking, per-feature similarity scores, total weight calculation, and speaker comparison decisions. Documents two-tier system (audio-based + text fallback), possible root causes (missing deep learning models, audio extraction issues, threshold problems), and what to look for in logs.
- `SUNRISE_TAB_SORTING_FEATURE.md` - Documentation of sortable columns and Date Added feature in Sunrise tab database browser
- `SUNRISE_SORTING_DEMO.md` - Visual guide and usage examples for Sunrise tab sorting functionality
- `UNIFIED_DOWNLOAD_PATH_COMPLETE.md` - Completion doc for unified download path implementation
- `UNIFIED_DOWNLOAD_PATH_RECOMMENDATION.md` - Recommendations for unified download path architecture

### Documentation - Taxonomy and Categorization

- `PODCAST_TOPICS_TOP2000.md` - List of top 2000 podcast topics for categorization reference
- `PODCAST_VS_CONCEPTUAL_TAXONOMY.md` - Comparison of podcast-based vs conceptual taxonomy approaches
- `RECOMMENDED_TAXONOMY_APPROACH.md` - Recommended approach for taxonomy and categorization
- `WIKIDATA_506_CATEGORIES_LIST.md` - Complete list of 506 WikiData categories for knowledge classification
- `WIKIDATA_CONCEPTUAL_TAXONOMY.md` - Conceptual taxonomy structure based on WikiData categories
- `WIKIDATA_DOWNLOAD_STRATEGY.md` - Strategy for downloading and managing WikiData category data
- `WIKIDATA_PROVENANCE_AND_STABILITY.md` - Documentation of WikiData provenance tracking and stability
- `WIKIDATA_VOCABULARY_UPGRADED.md` - Documentation of WikiData vocabulary upgrades

### Documentation - RSS and YouTube Integration

- `YOUTUBE_TO_RSS_IMPLEMENTATION_COMPLETE.md` - Completion doc for YouTube to RSS mapping feature
- `YOUTUBE_TO_RSS_MIGRATION.md` - Migration guide for YouTube to RSS mapping system

### Data Files

- `speaker_attribution.with_podcasts.yaml` - 262+ podcast-to-host mappings for automatic speaker attribution
- `knowledge_system.db.backup.20251024_195602` - SQLite database backup from October 24, 2025
- `Do the same analysis for the transcription processes.docx` - Word document with transcription analysis

### Utility Scripts

- `find_syntax_error.py` - Utility script to locate Python syntax errors in codebase
- `monitor_gui_tests.sh` - Shell script to monitor and report on GUI test execution
- `test_cookie_functionality.py` - Test script for cookie-based YouTube authentication
- `test_expanded_vocab.py` - Test script for expanded WikiData vocabulary
- `test_full_download_flow.py` - Integration test for complete download flow
- `test_multi_account_downloads.py` - Test script for multi-account download functionality
- `debug_flagship_model.py` - Utility script for debugging the flagship model

---

## ASSETS/

- `icon.icns` - macOS application icon in ICNS format
- `icon.ico` - Windows application icon in ICO format
- `podcast_microphone.jpeg` - Podcast microphone image asset
- `podcast_microphone.jpg` - Podcast microphone image asset (alternate format)
- `SkipThePodcast.png` - Application logo/branding image

---

## CONFIG/

### Prompt Templates

- `create_moc_prompt.txt` - Prompt template for creating Maps of Content (MOC)
- `document_summary_prompt.txt` - Prompt template for summarizing documents
- `episode_summary_prompt.txt` - Prompt template for summarizing podcast/video episodes
- `extract_claims_prompt.txt` - Prompt template for extracting claims from transcripts
- `extract_proper_names_prompt.txt` - Prompt template for extracting proper names from text
- `jargon_extraction_prompt.txt` - Prompt template for extracting jargon and technical terms
- `proper_name_extraction_prompt.txt` - Prompt template for extracting and validating proper names

### Configuration Files

- `llm_config.yaml` - LLM provider configuration (OpenAI, Anthropic, Ollama endpoints and models)
- `podcast_categories.yaml` - Podcast category taxonomy for classification
- `speaker_attribution.yaml` - Speaker attribution rules and mappings
- `speaker_mappings.yaml` - Channel-to-speaker mappings for automatic attribution
- `taxonomy.yaml` - Knowledge taxonomy structure for categorization
- `wikidata_categories.yaml` - WikiData category mappings and hierarchies
- `wikidata_conceptual_taxonomy.yaml` - Conceptual taxonomy derived from WikiData
- `wikidata_podcast_taxonomy.yaml` - Podcast-specific taxonomy using WikiData categories

### SSL Certificates

- `cacert.pem` - CA certificate bundle for SSL/TLS connections
- `cert.crt` - SSL certificate for secure connections
- `cert.pem` - SSL certificate in PEM format

### Other

- `expanded_vocab.txt` - Expanded vocabulary list for improved transcription accuracy
- `proper_names.txt` - List of proper names for transcription hint system
- `stop_words.txt` - Stop words list for text processing and analysis

---

## DATA/

- `knowledge_system.db` - Main SQLite database (media sources, transcripts, claims, summaries)
- `README.md` - Documentation for data directory structure and contents
- `wikidata_categories.txt` - Text file with WikiData category list

---

## DOCS/

### Architecture Documentation

- `ARCHITECTURE.md` - High-level system architecture overview
- `CLAIM_CENTRIC_ARCHITECTURE.md` - Documentation of claim-centric database architecture
- `DATABASE_ARCHITECTURE.md` - Database schema and design documentation
- `DATABASE_CENTRIC_ARCHITECTURE.md` - Database-first design principles and implementation
- `HCE_ARCHITECTURE.md` - Hybrid Claim Extraction (HCE) system architecture
- `PIPELINE_ARCHITECTURE.md` - Processing pipeline architecture and flow

### Feature Documentation

- `AUTOMATIC_COOKIE_DETECTION.md` - Automatic cookie detection and multi-account mode activation
- `COOKIE_PERSISTENCE_FIX.md` - Fix for cookie file persistence between sessions
- `DEDUPLICATION_SYSTEM.md` - URL and source deduplication system documentation
- `EPISODE_FIRST_MIGRATION.md` - Migration to episode-first data model
- `ERROR_HANDLING_IMPROVEMENTS.md` - Enhanced error handling and user feedback
- `PODCAST_AD_FILTERING.md` - Advertisement detection and filtering for podcasts
- `PROXY_MODE_CONSOLIDATION.md` - Proxy mode configuration consolidation
- `RSS_DISCOVERY_ARCHITECTURE_ISSUE.md` - Issues with RSS feed discovery architecture
- `RSS_FEED_GUIDE.md` - Guide for working with RSS feeds
- `RSS_MATCHING_EXPLAINED.md` - Explanation of YouTube to RSS matching algorithm
- `RSS_SPEAKER_ATTRIBUTION_COMPLETE.md` - RSS-based speaker attribution completion
- `SPEAKER_ATTRIBUTION.md` - Speaker attribution system documentation
- `SUMMARIZATION_CRASH_FIX.md` - Fix for summarization crashes
- `SUMMARIZATION_DEBUGGING_ENHANCEMENTS.md` - Comprehensive diagnostic logging added to unified mining pipeline to track progress and identify hangs at segment level
- `PARALLEL_PROCESSING_FIX.md` - Fix for parallel processing timeouts and event loop conflicts
- `SUMMARIZATION_REDUNDANCY_FIX.md` - Fix for missing widget crash and redundant file list calls
- `WIDGET_INITIALIZATION_TESTING.md` - Testing strategy to catch widget initialization bugs
- `WIDGET_TESTING_RESULTS.md` - Initial test results and analysis
- `WIDGET_TESTING_FINAL_RESULTS.md` - Definitive results: 3 real bugs found out of 122 warnings
- `BUGS_FIXED.md` - Documentation of the 3 real widget bugs found and fixed in CloudUploadsTab
- `YOUTUBE_DOWNLOAD.md` - YouTube download system documentation
- `VESTIGIAL_PROMPT_PICKER_REMOVED.md` - Documentation of removal of non-functional prompt file picker from Summarization tab

### Testing Documentation

- `TESTING_STRATEGY.md` - Overall testing strategy and approach
- `GUI_TESTING.md` - GUI testing methodology and tools
- `INTEGRATION_TESTING.md` - Integration test documentation

### API and Integration Documentation

- `API_REFERENCE.md` - API reference for programmatic access
- `SUPABASE_INTEGRATION.md` - Supabase cloud storage integration
- `WIKIDATA_INTEGRATION.md` - WikiData API integration documentation

---

## KNOWLEDGE_CHIPPER_OAUTH/

- `README.md` - Documentation for OAuth authentication system
- `requirements.txt` - Python dependencies for OAuth server
- `oauth_server.py` - OAuth callback server for YouTube authentication
- `oauth_client.py` - OAuth client for handling authentication flow
- `token_manager.py` - Token storage and refresh management
- `config.py` - OAuth configuration (client ID, secrets, scopes)

---

## OUTPUT/

Contains generated output files from processing operations:
- Transcript markdown files (*.md)
- JSON metadata files (*.json)
- SQLite checkpoint databases (*.sqlite)
- Processing logs and reports

---

## PRETRAINED_MODELS/

Contains downloaded Whisper models for offline transcription:
- `ggml-base.bin` - Whisper base model
- `ggml-medium.bin` - Whisper medium model (default)
- `ggml-large-v3.bin` - Whisper large v3 model
- Model download scripts and checksums

---

## REQUIREMENTS/

- `base.txt` - Base Python dependencies required by all environments
- `dev.txt` - Development dependencies (includes base + dev tools)
- `gui.txt` - GUI-specific dependencies (PyQt6, etc.)
- `ml.txt` - Machine learning dependencies (transformers, torch, etc.)
- `optional.txt` - Optional dependencies for advanced features
- `production.txt` - Production deployment dependencies
- `testing.txt` - Testing framework dependencies
- `README.md` - Documentation of requirements organization

---

## SCHEMAS/

- `claim_schema.json` - JSON schema for claim objects
- `episode_schema.json` - JSON schema for episode metadata
- `segment_schema.json` - JSON schema for transcript segments
- `source_schema.json` - JSON schema for media source metadata
- `summary_schema.json` - JSON schema for summary objects
- `README.md` - Documentation of schema files and validation

---

## SCRIPTS/

Contains 200+ utility scripts for:
- Database migrations and fixes
- Data cleanup and validation
- Testing and diagnostics
- Build and deployment automation
- Development utilities

Key scripts:
- `comprehensive_episode_cleanup.py` - Clean up episode data inconsistencies
- `fix_unified_schema.py` - Apply unified schema fixes to database
- `add_rss_progress_indicators.py` - Add progress tracking for RSS downloads
- `improve_rss_quality_selection.py` - Improve RSS feed quality selection
- `optimize_rss_matching.py` - Optimize YouTube to RSS matching performance
- `add_domain_column_to_claims.py` - Migration script to add domain column to claims table for field classification

---

## SRC/KNOWLEDGE_SYSTEM/

Main application package.

### Root Module Files

- `__init__.py` - Package initialization, version info, public API exports
- `__main__.py` - Entry point for running as module (`python -m knowledge_system`)
- `config.py` - Configuration management (loads settings, environment variables, defaults)
- `errors.py` - Custom exception hierarchy for domain-specific errors
- `logger.py` - Logging configuration and setup for application-wide logging
- `watchers.py` - File system watchers using watchdog to monitor for new/changed files
- `py.typed` - Marker file indicating package supports type checking

### COMMANDS/

CLI command implementations.

- `__init__.py` - Command module initialization
- `database.py` - Database management commands (init, migrate, backup, restore)
- `moc.py` - Maps of Content generation command
- `process.py` - Main processing command (transcribe + summarize + extract)
- `summarize.py` - Summarization command for transcripts and documents
- `transcribe.py` - Transcription command for audio/video files
- `upload.py` - Upload command for syncing to cloud storage
- `voice_test.py` - Voice fingerprinting test and validation command

### CORE/

Core orchestration and processing coordination.

- `batch_processor.py` - Intelligent batch processing system for large-scale operations with features like smart resume, dynamic parallelization, and progress persistence.
- `connected_processing_coordinator.py` - Coordinates connected processing stages with audio preservation and staging.
- `dynamic_parallelization.py` - Dynamic parallelization system for optimal resource usage based on hardware specs.
- `enhanced_hce_pipeline.py` - Enhanced HCE pipeline with dynamic parallelization.
- `intelligent_processing_coordinator.py` - Intelligent coordinator with adaptive strategies for the entire processing pipeline.
- `llm_adapter.py` - LLM provider abstraction layer (OpenAI, Anthropic, Ollama) with advanced features like rate limiting, cost tracking, and hardware-aware concurrency.
- `parallel_processor.py` - Parallel processing integration for multi-core systems.
- `system2_logger.py` - Structured logging for System 2 processing.
- `system2_orchestrator.py` - Main orchestrator for System 2 processing with job management.
- `system2_orchestrator_mining.py` - Mining integration for System 2 using UnifiedHCEPipeline.
- `staging_location_examples.py` - Example code for audio staging locations.
- `usage_example.py` - Usage examples for connected processing.

### DATABASE/

Database models, migrations, and service layer.

- `__init__.py` - Database module initialization
- `models.py` - SQLAlchemy models for all database tables, defining the comprehensive schema for the application.
- `service.py` - Database service layer with high-level operations for interacting with the database.
- `claim_store.py` - Claim-centric storage operations for the HCE system.
- `speaker_models.py` - Speaker and voice fingerprint models, re-exported from the unified models.py for backward compatibility.
- `system2_models.py` - System 2 processing job and checkpoint models for orchestration and LLM tracking.
- `alembic_migrations.py` - Alembic migration management.
- `apply_hce_migrations.py` - Apply HCE-specific database migrations.
- `migrate_legacy_data.py` - Migrate legacy data to new schema.
- `migrate_to_claim_centric.py` - Migrate to claim-centric architecture.
- `load_wikidata_vocab.py` - Load WikiData vocabulary into database.
- `download_podcast_categories.py` - Download podcast category taxonomy.
- `download_wikidata_taxonomy.py` - Download WikiData taxonomy data.
- `wikidata_seed.json` - Seed data for WikiData categories (~200 categories).
- `wikidata_*.json` - Various WikiData taxonomy files (conceptual, podcast, merged).

#### DATABASE/MIGRATIONS/

- `__init__.py` - Migrations module initialization
- `unified_schema.sql` - Unified database schema (current production schema)
- `claim_centric_schema.sql` - Claim-centric schema definition
- `add_source_aliases.sql` - Add source_id_aliases table for URL deduplication
- `add_subtitle_column.sql` - Add subtitle column to media sources
- `2025_01_15_claim_tier_validation.sql` - Claim tier validation rules
- `2025_01_15_quality_ratings.sql` - Quality rating system for claims
- `2025_08_18_hce_columns.sql` - HCE system columns
- `2025_08_18_hce_compat.sql` - HCE compatibility layer
- `2025_08_31_upload_tracking.sql` - Upload tracking for cloud sync
- `2025_10_15_partial_download_tracking.sql` - Partial download tracking
- `2025_11_05_source_stage_status.sql` - Source stage status tracking for queue visibility
- `001_rename_videos_to_media_sources.py` - Rename videos table to media_sources
- `003_add_enhanced_youtube_fields.py` - Add enhanced YouTube metadata fields
- `003_speaker_assignment_enhancements.py` - Speaker assignment enhancements
- `004_add_entity_evidence_tables.py` - Add entity and evidence tables
- `004_channel_host_mappings.py` - Channel to host mapping tables
- `migration_004_channel_host_mappings.py` - Python migration for channel mappings
- `system2_migration.py` - System 2 processing tables migration

### GUI/

PyQt6-based graphical user interface.

- `__init__.py` - GUI module initialization
- `__main__.py` - GUI entry point
- `main_window_pyqt6.py` - Main application window with tab management
- `batch_processing_widget.py` - Batch processing UI widget
- `legacy_dialogs.py` - Legacy dialog implementations (being phased out)
- `startup_integration.py` - Startup integration and initialization
- `queue_event_bus.py` - Real-time event bus for queue status updates

#### GUI/ADAPTERS/

- `hce_adapter.py` - Adapter for HCE system integration with GUI

#### GUI/ASSETS/

- `icons.py` - Icon resources and management

#### GUI/COMPONENTS/

Reusable GUI components.

- `base_tab.py` - Base class for all tab implementations
- `completion_summary.py` - Completion summary display widget
- `enhanced_error_dialog.py` - Enhanced error dialog with detailed information
- `enhanced_progress_display.py` - Enhanced progress display with rich formatting
- `file_operations.py` - File operation utilities for GUI
- `model_preloader.py` - Model preloading widget for Whisper models
- `progress_tracking.py` - Progress tracking components
- `rich_log_display.py` - Rich log display with syntax highlighting
- `simple_progress_bar.py` - Simple progress bar widget

#### GUI/DIALOGS/

Dialog windows for various operations (15 dialog implementations including queue_detail_dialog.py for queue item details).

#### GUI/TABS/

Main application tabs.

- `introduction_tab.py` - Introduction and welcome tab
- `transcription_tab.py` - Transcription configuration and execution tab
- `summarization_tab.py` - Summarization (Sunrise) tab with database browser supporting sortable columns including Date Added
- `queue_tab.py` - Queue tab for real-time pipeline status visualization
- `review_tab_system2.py` - Review tab for System 2 processing results
- `prompts_tab.py` - Prompt template management tab
- `settings_tab.py` - Application settings tab
- `logs_tab.py` - Log viewer tab
- Additional specialized tabs (16 total)

#### GUI/WIDGETS/

Specialized widgets.

- `cookie_file_manager.py` - Cookie file management widget for multi-account downloads
- Additional widgets (3 total)

#### GUI/WORKERS/

Background worker threads for GUI operations (5 worker implementations).

### PROCESSORS/

Media processing and transformation.

- `__init__.py` - Processors module initialization
- `base.py` - Base processor class with common functionality
- `audio_processor.py` - Audio file processing (transcription, speaker detection)
- `document_processor.py` - Document processing (PDF, eBook)
- `diarization.py` - Speaker diarization using pyannote
- `html.py` - HTML document processing
- `pdf.py` - PDF document processing
- `registry.py` - Processor registry for dynamic processor selection
- `rss_processor.py` - RSS feed processing
- `speaker_processor.py` - Speaker attribution and identification
- `unified_batch_processor.py` - Unified batch processor for multiple files
- `whisper_cpp_transcribe.py` - Whisper.cpp transcription wrapper
- `youtube_download.py` - YouTube video/audio download

#### PROCESSORS/HCE/

Hybrid Claim Extraction system.

- `__init__.py` - HCE module initialization and public API exports
- `config_flex.py` - Flexible configuration for HCE pipeline
- `context_expansion.py` - Context expansion for claims
- `discourse.py` - Discourse analysis and structure
- `export.py` - Export HCE results to various formats
- `flagship_evaluator.py` - Flagship claim evaluator for ranking and filtering claims
- `global_index.py` - Global index for cross-document references
- `health.py` - Health checks for HCE system
- `io_utils.py` - I/O utilities for HCE
- `model_uri_parser.py` - Parse model URIs (ollama://, openai://, local://, etc.)
- `relations.py` - Relationship extraction between entities (currently disabled, returns empty list)
- `schema_validator.py` - Validate and repair HCE output against JSON schemas
- `storage_sqlite.py` - SQLite storage layer for HCE results with bulk insert optimization
- `structured_categories.py` - WikiData-based structured category assignment
- `temporal_numeric.py` - Temporal and numeric data extraction
- `temporality.py` - Temporality analysis for claims
- `types.py` - Type definitions for HCE system (EpisodeBundle, ScoredClaim, PipelineOutputs, etc.)
- `unified_miner.py` - **ACTIVE:** Unified mining engine that extracts all entity types (claims, jargon, people, concepts) in a single pass
- `unified_pipeline.py` - **ACTIVE:** Main HCE pipeline orchestrating mining → evaluation → summarization → categorization
- `parallel_processor.py` - Parallel processing infrastructure for HCE with auto-scaling workers
- `sqlite_schema.sql` - SQLite schema for HCE storage tables

##### PROCESSORS/HCE/EVALUATORS/

Claim evaluators for quality assessment.

- `concepts_evaluator.py` - Evaluate concept quality
- `jargon_evaluator.py` - Evaluate jargon definitions
- `people_evaluator.py` - Evaluate people/entity extractions

##### PROCESSORS/HCE/MODELS/

ML models for HCE.

- `cross_encoder.py` - Cross-encoder for semantic similarity
- `embedder.py` - Sentence embeddings for semantic search
- `llm_system2.py` - LLM integration for System 2 processing

##### PROCESSORS/HCE/PROMPTS/

Prompt templates for HCE (25 prompt files).

### SERVICES/

High-level service layer.

- `__init__.py` - Services module initialization
- `claims_upload_service.py` - Upload claims to cloud storage
- `download_scheduler.py` - Schedule and manage downloads
- `file_generation.py` - Generate output files from database
- `multi_account_downloader.py` - Multi-account YouTube downloader
- `oauth_callback_server.py` - OAuth callback server for authentication
- `podcast_episode_searcher.py` - Search for podcast episodes
- `podcast_rss_downloader.py` - Download podcast episodes from RSS feeds
- `queue_snapshot_service.py` - Queue snapshot service for pipeline status
- `session_based_scheduler.py` - Session-based download scheduler for anti-bot
- `speaker_learning_service.py` - Speaker learning and adaptation service
- `supabase_auth.py` - Supabase authentication
- `supabase_storage.py` - Supabase cloud storage operations
- `supabase_sync.py` - Supabase synchronization service
- `unified_download_orchestrator.py` - Unified download orchestrator (YouTube, RSS, local)
- `unified_download_orchestrator_v2.py` - V2 of unified download orchestrator
- `wikidata_categorizer.py` - WikiData-based categorization service
- `youtube_download_service.py` - YouTube download service
- `youtube_to_podcast_mapper.py` - Map YouTube URLs to podcast RSS feeds

### SUPERCHUNK/

SuperChunk system for advanced document processing (experimental).

- `__init__.py` - SuperChunk module initialization
- `canonicalization.py` - Text canonicalization
- `config.py` - SuperChunk configuration
- `embeddings.py` - Embedding generation and management
- `extractors.py` - Information extractors
- `gates.py` - Quality gates for filtering
- `landmarks.py` - Document landmark detection
- `ledger.py` - Processing ledger for tracking
- `linker.py` - Entity linking
- `llm_adapter.py` - LLM adapter for SuperChunk
- `mapper.py` - Mapping between representations
- `observability.py` - Observability and monitoring
- `retrieval.py` - Retrieval system
- `runner.py` - SuperChunk pipeline runner
- `scorecard.py` - Quality scoring
- `segmenter.py` - Document segmentation
- `signals.py` - Signal processing
- `synthesizer.py` - Information synthesis
- `validators.py` - Validation utilities
- `vector_store.py` - Vector storage
- `verifier.py` - Verification system

### UTILS/

Utility functions and helpers (90 utility files).

Key utilities:
- `ad_detector.py` - Advertisement detection in podcast transcripts
- `deduplication.py` - URL and source deduplication
- `llm_speaker_suggester.py` - LLM-based speaker name suggestion
- `llm_speaker_validator.py` - LLM-based speaker name validation
- `rss_feed_extractor.py` - Extract RSS feeds from Apple Podcasts/RSS.com URLs
- `warning_suppressions.py` - Centralized warning suppression configuration

### VOICE/

Voice fingerprinting and speaker verification.

- `__init__.py` - Voice module initialization
- `accuracy_testing.py` - Accuracy testing for voice fingerprinting
- `speaker_verification_service.py` - Speaker verification service
- `voice_fingerprinting.py` - Voice fingerprinting using acoustic features

---

## TESTS/

Comprehensive test suite with 121 test files including:
- Unit tests for all major components
- Integration tests for end-to-end workflows
- GUI tests with xvfb support
- Performance tests
- Database migration tests

---

## STATE/

Runtime state directory for:
- Session state persistence
- Temporary processing files
- Cache files
- Lock files

---

## LOGS/

Application log files organized by date and component.

---

## TMP/

Temporary files during processing (automatically cleaned up).

---

## TEST_OUTPUT/

Output from test runs for verification and debugging.

---

## TEST_MODELS/

Test fixtures and mock models for testing.

---

## TEST_TRANSCRIPTION/

Test fixtures for transcription testing.

---

*End of Manifest*
